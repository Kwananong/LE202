# การออกแบบการทดลอง

## เซนเซอร์วัดความชื้นเพื่อสั่งให้รดน้ำต้นไม้อัตโนมัติ

### วัตถุประสงค์ 

1.	เพื่อประยุกต์ใช้ไมโครคอนโทรลเลอร์กับเซนเซอร์วัดความชื้น

2.	เพื่อศึกษาวิธีการประยุกต์ใช้โปรแกรมให้มีความซับซ้อนมากขึ้น

### อุปกรณ์ที่ใช้ 

-	เซนเซอร์วัดความชื้น
-	Microcontroller (ESP8266) 2 ตัว
-	รีเลย์
-	ปั๊มน้ำ

### ศึกษาข้อมูลเบื้องต้น 

-	หลักการทำงานของเซนเซอร์วัดความชื้นในดิน  
: https://sites.google.com/site/projectphysics122/hlak-kar-thangan-khxng-sensexr-wad-khwamchun-ni-din

-	หลักการทำงานของ ESP8266
: http://narong.ece.engr.tu.ac.th/ei444/document/ESP8266.pdf

-	ข้อมูลขอตัวงรีเลย์ 
: https://misumitechnical.com/technical/electrical/relay-working-principles/#i

### หลักการทำงานเบื้องต้น

ในการทำงานจะมี Microcontroller 2 ตัว โดยตัวที่ 1 จะทำหน้าที่ในการรับค่าจากเซนเซอร์วัดความชื้น โดยหากค่าความต้านทานมีมาก (ค่าความชื้นน้อย) 
จะส่งสัญญาณไปยัง Microcontroller อีกตัว โดยอาจใช้การส่งสัญญาณผ่านตัว wifi ที่เชื่อมต่อเดียวกัน หรือ สร้าง wifi ขึ้นมาใช้เอง ผ่านขั้นตอนการสร้างโค้ด 

พอ Microcontroller อีกตัวได้รับสัญญาณมาแล้ว จะกำหนดให้ส่งกระแสไปยังตัวรีเลย์ ในขณะที่รีเลย์ได้รับกระแสไฟเข้ามา ก็จะทำหน้าที่เหมือนสวิตช์ไฟในการเปิดตัวปั๊มน้ำให้ทำงาน 
      
### วิธีการทำการทดลอง 

1.	สร้างโค้ดเพื่อป้อนคำสั่งให้กับตัว ESP8266 

- โค้ดแรก กำหนดให้รับค่า input มาจากตัวเซนเซอร์วัดความชื้น และ output ให้ส่งสัญญาณไปที่ ESP8266 ตัวที่ 2 
โดยมีเงื่อนไขว่า หากค่าความต้านทานมีมาก(ความชื้นน้อย) ให้ส่งสัญญาณไปที่ ESP8266 ตัวที่ 2 

- โค้ดที่สอง กำหนดให้รับค่า input เป็นสัญญาณที่ถูกส่งมาจาก ESP8266 ตัวแรก และ output ส่งกระแสไฟไปที่ตัวรีเลย์ 

2. รันโค้ดทั้งสองโค้ดลงไปใน ESP8266 แต่ละตัว

3.	ต่อตัวเซนเซอร์วัดความชื้นเข้ากับ ESP8266 ตัวที่ป้อนโค้ดในข้อ 1.1

4.	ต่อตัว ESP8266 ที่ป้อนโค้ดในข้อ 1.2 เข้ากับตัวรีเลย์

5.	ต่อตัวรีเลย์เข้ากับปั้มน้ำ

### ผลการทดลองที่คาดว่าจะได้รับ

Microcontroller ทั้งสองตัวสามารถรับ-ส่งสัญญาณระหว่างกันได้ และสามารถทำให้ตัวปั๊มน้ำทำงานได้อย่างมีประสิทธิภาพ
